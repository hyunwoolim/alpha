(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2d22230d"],{ce0e:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"q-pa-md q-gutter-md"},[n("div",[t._v("친구")]),t._l(t.friends.models,function(e,i){return n("div",{key:i,staticClass:"row"},[n("span",[t._v(t._s(i+1+" "+e.friendMember.name))]),n("q-btn",{attrs:{label:"chat"},on:{click:function(n){return t.chat(e)}}})],1)}),n("q-dialog",{attrs:{persistent:""},model:{value:t.requestDialog,callback:function(e){t.requestDialog=e},expression:"requestDialog"}},[n("q-card",{staticStyle:{"min-width":"350px"}},[n("q-card-section",{staticClass:"row items-center"},[n("q-space"),n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),n("q-card-section",[n("q-input",{ref:"toId",attrs:{label:t.$t("input.friend.id"),rules:[function(t){return!!t||"Field is required"}]},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.request(e)}},model:{value:t.toId,callback:function(e){t.toId=e},expression:"toId"}})],1),n("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[n("q-btn",{attrs:{flat:"",label:t.$t("input.request.friend")},on:{click:t.request}})],1)],1)],1),n("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[n("q-btn",{attrs:{color:"primary",label:t.$t("input.request.friend"),"no-caps":""},on:{click:t.showRequestDialog}})],1)],2)},r=[],s=n("fc74"),a=n.n(s),o=n("59a1"),u=n.n(o),c=n("6430"),d=n.n(c),l=n("ffe3"),f=n.n(l),p=n("37d9"),h=n.n(p),q=n("a46f"),m=function(t){function e(){return a()(this,e),d()(this,f()(e).apply(this,arguments))}return h()(e,t),u()(e,[{key:"defaults",value:function(){return{id:"",friendId:"",relationDate:null,friendMember:null}}},{key:"routes",value:function(){return{}}}]),e}(q["b"]),v=function(t){function e(){return a()(this,e),d()(this,f()(e).apply(this,arguments))}return h()(e,t),u()(e,[{key:"model",value:function(){return m}},{key:"defaults",value:function(){return{id:""}}},{key:"routes",value:function(){return{fetch:"/api/private/friends"}}}]),e}(q["a"]),g=n("8847"),b={name:"PageFriends",data:function(){return{toId:"",requestDialog:!1,friends:new v,requests:[]}},created:function(){this.findFriends(),this.requestList()},methods:{findFriends:function(){this.friends.fetch()},showRequestDialog:function(){var t=this;t.toId="",t.requestDialog=!0},request:function(){var t=this;t.$refs.toId.validate()&&t.$axios({url:"/api/private/friends/request",method:"post",params:{toId:t.toId}}).then(function(){t.$q.notify({timeout:3e3,color:"positive",message:Object(g["a"])("requested")}),t.requestDialog=!1}).catch(function(e){t.$q.notify({timeout:3e3,color:"negative",message:Object(g["a"])(e.response.data.message)})})},requestList:function(){var t=this;this.$axios({url:"/api/private/friends/requests",method:"get"}).then(function(e){t.requests=e.data})},approve:function(t){this.$axios({url:"/api/private/friends/request/approve",method:"post",data:t}).then(function(t){})},reject:function(t){this.$axios({url:"/api/private/friends/request/reject",method:"post",data:t}).then(function(t){})},chat:function(t){var e=this;this.$axios({url:"/api/private/chat/start",method:"post",data:t}).then(function(t){e.$router.push("/chat/"+t.data.roomId)})}}},k=b,y=n("2877"),w=Object(y["a"])(k,i,r,!1,null,null,null);e["default"]=w.exports}}]);